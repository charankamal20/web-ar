<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
    <style>

      @import url('https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap');

      body {
        margin: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      }

      /* Launch Screen */
    #overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: #fff200;
      color: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 10000;
    }

    h1 {
        font-size: 3em;
        margin-bottom: 20px;
    }

    #launch-btn {
      padding: 15px 30px;
      font-size: 1.2em;
      background-color: white;
      color: #1e1e1e;
      border: 2px solid #1e1e1e;
      border-radius: 30px;
      cursor: pointer;
      transition: all 0.3s ease-in-out;
    }

    #launch-btn:hover {
      background-color: #1e1e1e;
      color: white;
    }

    #main-heading {
    font-family: 'Urbanist';
      font-size: 80px;
    font-weight: bold;
    line-height: 0.9; 
    margin-bottom: 30px;
    text-align: center;
    color: black;
  }


      /* Close Button */
    #close-btn {
      position: absolute;
      top: 15px;
      right: 15px;
      z-index: 9999;
      background: rgba(0, 0, 0, 0.6);
      color: white;
      border: none;
      font-size: 24px;
      font-weight: bold;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      justify-content: center;
      align-items: center;
    }

      #close-btn:hover {
        background: rgba(205, 4, 4, 0.8);
      }
    </style>
  </head>

  <body>
    <!-- Launch Screen -->
    <div id="overlay">
      <!-- <img src="./assets/Frame 67@2x.svg" alt=""> -->
      <h1 id="main-heading">Zentroid<br>Studios</h1>
      <button id="launch-btn">Launch</button>
    </div>

    <!-- Close Button -->
    <button id="close-btn">&times;</button>

    <!-- AR Scene -->
    <a-scene
      mindar-image="imageTargetSrc: ./assets/visiting_card.mind; autoStart: false;"
      color-space="sRGB"
      renderer="colorManagement: true, physicallyCorrectLights"
      vr-mode-ui="enabled: false"
      device-orientation-permission-ui="enabled: false"
    >
      <a-assets>
        <a-asset-item id="avatarModel" src="./assets/model/model.gltf"></a-asset-item>
      </a-assets>

      <a-camera
        position="0 0 0"
        look-controls="enabled: false"
        cursor="fuse: false; rayOrigin: mouse;"
        raycaster="near: 10; far: 10000; objects: .clickable"
      ></a-camera>

      <a-entity id="example-target" mindar-image-target="targetIndex: 0">
        <a-gltf-model
          id="gltf"
          src="#avatarModel"
          position="0 0.3 0"
          scale="1.5 1.5 1.5"
          class="clickable"
        ></a-gltf-model>
      </a-entity>
    </a-scene>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const sceneEl = document.querySelector("a-scene");
        const launchBtn = document.getElementById("launch-btn");
        const overlay = document.getElementById("overlay");
        const closeBtn = document.getElementById("close-btn");
        const exampleTarget = document.querySelector("#example-target");
        const examplemodel = document.querySelector("#gltf");

        let arSystem;

        sceneEl.addEventListener("loaded", function () {
          arSystem = sceneEl.systems["mindar-image-system"];
        });

        // Launch AR
        launchBtn.addEventListener("click", () => {
          overlay.style.display = "none";
          closeBtn.style.display = "flex";
          arSystem.start();
        });

        // Close AR and return to Launch screen
        closeBtn.addEventListener("click", () => {
          arSystem.stop();
          overlay.style.display = "flex";
          closeBtn.style.display = "none";
        });

        // Optional model click handler
        examplemodel.addEventListener("click", () => {
          window.open("https://www.instagram.com/zentroid.studios/", "_blank");
        });

        // Logging target events
        exampleTarget.addEventListener("targetFound", () => console.log("target found"));
        exampleTarget.addEventListener("targetLost", () => console.log("target lost"));
      });
    </script>
  </body>
</html>
